(require 'clojure-mode)

(defun slime-clojure-repl-setup ()
  "Some REPL setup additional to that in durendal."
  (when (string-equal (slime-lisp-implementation-name) "clojure")
    (when (slime-inferior-process)
      (message "Setting up repl for clojure")
      (slime-redirect-inferior-output))

    (set-syntax-table clojure-mode-syntax-table)
    (setq lisp-indent-function 'clojure-indent-function)
    (let (font-lock-mode)
      (clojure-mode-font-lock-setup))))

(add-hook 'slime-repl-mode-hook 'slime-clojure-repl-setup)
(add-hook 'clojure-mode-hook 'conf-lisp/lisp-setup)

(provide 'init-clojure-mode)
